<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/common.xhtml">
	<ui:define name="title">
	    Vols
	</ui:define>
	<ui:define name="content">
		<h:messages styleClass="RedCssClass" />
		<hr />
		<h:form>
		Ville de départ : <h:selectOneMenu value="#{volBean.villeChoisie}"
				valueChangeListener="#{volBean.recupVolsOnNewChoixVille}">
				<f:ajax event="change" render="zonetableau" />
				<f:selectItem itemLabel="Sélectionnez une ville" itemValue="#{null}"
					noSelectionOption="true" value="#{volBean.villeChoisie}" />
				<f:selectItems value="#{volBean.listeLocalites}" var="v"
					itemValue="#{v.ville}" itemLabel="#{v.ville},#{v.aeroport}" />
			</h:selectOneMenu>
			<!--  <h:inputText value="#{volBean.villeChoisie}" /> -->
			<br />
			<br />
		Date de départ : <p:calendar value="#{volBean.dateDepart}" />
			<br />
		</h:form>
		<br />
		<p:tabView id="tabViewXy">
			<p:tab title="onglet1">
			onglet1
			</p:tab>
			<p:tab title="onglet2">
			onglet2
			</p:tab>
		</p:tabView>
		<br />
		<h:panelGroup id="zonetableau">
			<h:panelGroup rendered="#{not empty volBean.listeVols}">
				<h3>
					Vols au départ de
					<h:outputText value="#{volBean.villeChoisie}" />
				</h3>
				<h:dataTable value="#{volBean.listeVols}" var="v" border="1">
					<h:column>
						<f:facet name="header">
							<f:verbatim>ID</f:verbatim>
						</f:facet>
						<h:outputText value="#{v.num}" />
					</h:column>
					<h:column>
						<f:facet name="header">
							<f:verbatim>Prix</f:verbatim>
						</f:facet>
						<h:outputText value="#{v.prix}" />
					</h:column>
				</h:dataTable>
			</h:panelGroup>
		</h:panelGroup>
		<br />
	</ui:define>
</ui:composition>
</html>
